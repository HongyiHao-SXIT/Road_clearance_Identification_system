{% extends "base.html" %}

{% block title %}æ‰‹åŠ¨è¯†åˆ«ç»ˆç«¯{% endblock %}

{% block content %}
{# æ³¨æ„ï¼šJinja2 ç»§æ‰¿ä¸­ä¸éœ€è¦å†æ¬¡å†™ <html>, <head>, <body> æ ‡ç­¾ #}
<div class="card">
    <header style="display: flex; justify-content: space-between; align-items: center;">
        <h2>TrashDet Upload</h2>
        <div class="user-info" style="text-align: right;">
            <p style="margin:0; font-size:14px;">ç”¨æˆ·: <b>{{ username }}</b></p>
            <a href="/auth/logout" style="font-size:12px; color: var(--error);">é€€å‡ºç™»å½•</a>
        </div>
    </header>

    <div class="action-bar">
        <a class="btn btn-primary" href="stats">ğŸ“ˆ æŸ¥çœ‹æ•°æ®ç»Ÿè®¡æŠ¥å‘Š</a>
    </div>

    <div class="garbage-det-module">
        <div class="upload-area" id="uploadArea">
            <div style="font-size: 40px;">â˜ï¸</div>
            <p style="font-weight: 600; margin:10px 0;">ç‚¹å‡»æˆ–æ‹–æ‹½å›¾ç‰‡è‡³æ­¤å¤„è¯†åˆ«</p>
            <p style="font-size:12px; color:var(--text-muted);">æ”¯æŒ PNG, JPG, JPEG (æœ€å¤§ 16MB)</p>
            <input type="file" id="fileInput" accept="image/*" style="display:none;">
        </div>

        <div class="preview-container">
            <div class="preview-box">
                <p>ğŸ“¸ åŸå›¾é¢„è§ˆ</p>
                <img id="originalPreview" class="preview-img" style="display: none;">
            </div>
            <div class="preview-box">
                <p>ğŸ¯ è¯†åˆ«ç»“æœå›¾</p>
                <img id="annotatedPreview" class="preview-img" style="display: none;">
            </div>
        </div>

        <div class="result-area" id="resultArea" style="display:none;">
            <h4 style="margin:0 0 15px;">è¯†åˆ«è¯¦æƒ…æ¸…å•</h4>
            <div id="resultContent"></div>
        </div>
    </div>
</div>

<script src="{{ url_for('static', filename='js/script.js') }}"></script>
{% endblock %}